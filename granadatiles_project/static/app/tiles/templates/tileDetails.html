<div ng-controller="tileDetailCtrl as vm">
    <h1 class="heading-sec">{{ ::vm.tile.name }}</h1>
    <a href="#" class="breadcrumds"><u>Collections</u> <i class="fa fa-angle-double-right"></i></a>
    <a ng-href="{{::vm.collection.url}}" class="breadcrumds"><u>{{::vm.collection.title}}</u> <i class="fa fa-angle-double-right"></i></a>
    <a class="breadcrumds" href="#" ng-click="vm.backToGroup()"><u>{{::vm.group.title}}</u> <i class="fa fa-angle-double-right"></i></a>
    <a class="breadcrumds" href="#"><u>{{::vm.tile.name}}</u></a>
    <div class="text-section" ng-bind-html="::vm.areas.tileDetailWelcomeMessage"></div>
    <div class="row">
        <div class="col-md-12 col-sm-12 left-align">
            <ul class="list-inline tile-button-options">
                <li ng-if="vm.tile.hasInstallationPhotos"><a href="#" ng-click="vm.showInstallationPhoto(vm.tile.id)"><i class="fa fa-eye"></i><p>{{ ::vm.labels.photos | uppercase }}</p></a></li>
                <li ng-if="vm.tile.hasSample"><a href="#">
                    <img src="/static/img/Icon-Free-Sample-Granada-Tile-Cement.svg" alt="ORDER FREE SAMPLE">
                    <p>{{ ::vm.labels.orderFree | uppercase }}</p>
                </a></li>
                <li ng-if="!vm.isAuthenticated"><a ng-href="{{::vm.navigation.login}}"><i class="fa fa-briefcase"></i><p>{{ ::vm.labels.saveToPortfolio | uppercase }}</p></a></li>
                <li ng-if="!vm.tile.inPortfolio && vm.isAuthenticated"><a href="#" ng-click="vm.saveToPortfolio(vm.tile.id)"><i class="fa fa-briefcase"></i><p>{{ ::vm.labels.saveToPortfolio | uppercase }}</p></a></li>
                <li ng-if="vm.tile.inPortfolio && vm.isAuthenticated"><a href="#"><i class="fa fa-briefcase"></i><p>{{ ::vm.labels.addedPortfolio | uppercase }}</p></a></li>
                <li><a href="#"><i class="fa fa-file"></i><p>{{ ::vm.labels.tearSheet | uppercase }}</p></a></li>
                <li><a href="#" ng-click="vm.printPage()"><i class="fa fa-print"></i><p>{{ ::vm.labels.printPage | uppercase }}</p></a></li>
            </ul>
        </div>
    </div>
    <div class="row">
        <div class="col-md-7 col-sm-8">
            <img ng-src="{{ vm.tile.image }}" alt="Kotka918-saveA-Granada-Tile-Cement" class="img-responsive thumbnail">
        </div>
        <div class="col-md-5 col-sm-4">
            <ul class="tile-detail-container">
                <li class="row">
                    <div class="col-md-4">
                        <p>{{ ::vm.labels.colors }}:</p>
                    </div>
                    <div class="col-md-8">
                        <div class="row">
                            <div class="col-md-6" ng-repeat="color in vm.tile.colors">
                                <div class="color-container" ng-style="{ 'background-color' : color.hexadecimalCode}">

                                </div>
                                <p class="text-center">{{color.name}}</p>
                            </div>
                        </div>
                        <div class="row">
                            <div class="col-xs-12">
                                <button type="button" class="btn btn-sky">{{vm.labels.customize}}</button>
                            </div>
                        </div>
                    </div>
                </li>
                <li class="row">
                    <div class="col-md-4">
                        <p>{{ ::vm.labels.styles }}:</p>
                    </div>
                    <div class="col-md-8">
                        <p ng-repeat="style in vm.tile.styles">{{ style.name }}</p>
                    </div>
                </li>
                <li class="row">
                    <div class="col-md-4">
                        <p>{{ ::vm.labels.selectSize }}:</p>
                    </div>
                    <div class="col-md-8">
                        <div class="btn-group" dropdown ng-if="vm.tile.sizes.length > 0">
                            <button type="button" class="btn btn-sky">{{ vm.selectedSize }}</button>
                            <button type="button" class="btn btn-sky dropdown-toggle" dropdown-toggle>
                                <span class="caret"></span>
                            </button>
                            <ul class="dropdown-menu filter-list" role="menu">
                                <li ng-repeat="size in vm.tile.sizes">
                                    <a href="#" ng-click="vm.setSize(size)">{{ size.size }}</a>
                                </li>
                            </ul>
                        </div>
                    </div>
                </li>
                <li class="row">
                    <div class="col-md-4">
                        <p>{{ ::vm.labels.thickness }}:</p>
                    </div>
                    <div class="col-md-8">
                        <p>{{ vm.tile.thickness }}</p>
                    </div>
                </li>
                <li class="row">
                    <div class="col-md-4">
                        <p>{{ ::vm.labels.weight }}:</p>
                    </div>
                    <div class="col-md-8">
                        <p>{{ vm.tile.weight }}</p>
                    </div>
                </li>
                <li class="row">
                    <div class="col-md-4">
                        <p>{{ ::vm.labels.uses }}:</p>
                    </div>
                    <div class="col-md-8">
                        <p ng-repeat="use in vm.tile.uses">{{ use.name }}</p>
                    </div>
                </li>
                <li class="row">
                    <div class="col-md-4">
                        <p>{{ ::vm.labels.leadTime }}:</p>
                    </div>
                    <div class="col-md-8">
                        {{ ::vm.tile.leadTime }}
                    </div>
                </li>
            </ul>


        </div>
    </div>
    <div class="row">
        <div class="col-md-3 col-sm-3">
            <img src="/static/img/initial/tiles/tiles/kotka-mosaic-2.jpg" alt="kotka-mosaic-2" class="img-responsive thumbnail">
        </div>
        <div class="col-md-3 col-sm-3">
            <img src="/static/img/initial/tiles/tiles/kotka-mosaic-3.jpg" alt="kotka-mosaic-3" class="img-responsive thumbnail">
        </div>
        <div class="col-md-6 col-sm-6">
            <table class="table-tile-detail">
                <thead>
                    <tr>
                        <td></td>
                        <td>{{:: vm.labels.per}} {{::vm.tile.box.description}}</td>
                        <td>= {{::vm.labels.perTile}}</td>
                        <td>= {{::vm.labels.perSqFt}}</td>
                    </tr>
                </thead>
                <tbody>
                    <tr>
                        <td>Retail Price:</td>
                        <td>$&nbsp;{{::vm.tile.pricePerBox}}</td>
                        <td>$&nbsp;{{::vm.tile.price}}</td>
                        <td>$&nbsp;{{::vm.tile.sqFtPrice | number:2}}</td>
                    </tr>
                    <tr>
                        <td>Quantity in Stock:</td>
                        <td>{{::vm.tile.quantityPerBox}}</td>
                        <td>{{::vm.tile.quantity}}</td>
                        <td>{{vm.tile.quantity * vm.tile.sqFt}}</td>
                    </tr>
                </tbody>
            </table>
        </div>
    </div>
    <div class="row">
        <div class="col-md-12">
            <div class="line-order-tile-detail"><p>{{ vm.labels.order | uppercase }}</p></div>
        </div>
    </div>
    <div class="row">
        <div class="col-md-7 col-sm-7 form-order-tile-detail">
            <div class="row space-bottom">
                <div class="col-md-5 col-sm-5">
                    <label for="squareFootage">{{ ::vm.labels.inputSquareFootage }}</label>
                </div>
                <div class="col-md-7 col-sm-7">
                    <input type="text" id="squareFootage" name="squareFootage" class="form-control" ng-model="vm.order.inputSqFt" ng-change="vm.updateOrderDetail()">
                </div>
            </div>
            <div class="row space-bottom">
                <div class="col-md-5 col-sm-5">
                    <label for="shippingCost">{{ ::vm.labels.estimateShippingCost }}</label>
                </div>
                <div class="col-md-6 col-sm-6">
                    <div class="btn-group space-bottom" dropdown>
                        <button type="button" class="btn btn-sky">{{vm.selectedWarehouse}}</button>
                        <button type="button" class="btn btn-sky dropdown-toggle" dropdown-toggle>
                            <span class="caret"></span>
                        </button>
                        <ul class="dropdown-menu filter-list" role="menu">
                            <li ng-repeat="warehouse in vm.tile.shipFrom">
                                <a href="#" ng-click="vm.setWarehouse(warehouse)">{{ warehouse.name + ' - ' + warehouse.zipcode}}</a>
                            </li>
                        </ul>
                    </div>
                    <input type="text" id="shippingCost" class="form-control space-bottom" placeholder="{{ ::vm.labels.destinationZip }}">
                    <input type="button" value="{{ ::vm.labels.calculate }}" class="btn btn-green space-bottom btn-custom">
                    <p>{{ ::vm.labels.estimatedDelivery }}: <span>3 {{ ::vm.labels.weeks  }}</span></p>
                </div>


            </div>
        </div>
        <div class="col-md-2 col-sm-2">
            <img ng-src="{{ ::vm.nortonImage }}" alt="Norton_Seal">
        </div>
        <div class="col-md-3 col-sm-3 text-right resume-order-tile-detail">
            <ul>
                <li>
                    <label>{{ ::vm.labels.subtotal  }}: </label><span>${{vm.order.baseCost | number:2 }}</span>
                </li>
                <li class="text-orange">
                    <label>- {{ ::vm.labels.discount  }}: </label><span>${{vm.order.discount | number:2 }}</span>
                </li>
                <li>
                    <label>{{ ::vm.labels.shipping  }}: </label><span>${{vm.order.shippingCost | number:2 }}</span>
                </li>
                <li>
                    <label>{{ ::vm.labels.yourCost  }}: </label><span>${{vm.order.total | number:2 }}</span>
                </li>
            </ul>
            <button type="button" class="btn btn-green" ng-click="vm.addToCart()">{{ ::vm.labels.addToCart }}</button>
            <button type="button" class="btn btn-green" ng-if="vm.tile.hasSample">{{ ::vm.labels.orderFree }}</button>
        </div>
    </div>
    <div class="row">
        <div class="col-md-7 col-sm-12 calculation-order-tile-detail">
            <span class="text-header">{{ ::vm.labels.tileCalculationDetail }}</span>
            <ul>
                <li>
                    <div class="row">
                        <div class="col-md-9 col-sm-9">
                            Tiles needed ({{vm.order.inputSqFt}} Sq. Ft / {{vm.tile.sqFt | number:2}} Sq. Ft Per Tile)=
                        </div>
                        <div class="col-md-3 col-sm-3 text-right">
                            {{vm.order.tilesNeeded | number:2 }} *
                        </div>
                    </div>
                </li>
                <li>
                    <div class="row">
                        <div class="col-md-9 col-sm-9">
                            Tiles needed and 10% Overage ({{vm.order.tilesNeeded  | number:2 }} X 10%)=
                        </div>
                        <div class="col-md-3 col-sm-3 text-right">
                            {{ vm.order.tilesNeededOverage }} *
                        </div>
                    </div>
                </li>
                <li>
                    <div class="row">
                        <div class="col-md-9 col-sm-9">
                            Boxes needed ({{vm.order.tilesNeededOverage }} Tiles / {{vm.tile.box.quantity}} Tiles Per Box)=
                        </div>
                        <div class="col-md-3 col-sm-3 text-right">
                            {{vm.order.tilesNeededOverage / vm.tile.box.quantity | nextInt }} Boxes *
                        </div>
                    </div>
                </li>
                <li>
                    <div class="row">
                        <div class="col-md-9 col-sm-9">
                            Base cost ({{ vm.order.boxesNeeded }} Boxes X ${{vm.tile.pricePerBox}} Per Box)=
                        </div>
                        <div class="col-md-3 col-sm-3 text-right">
                            ${{ vm.order.baseCost | number:2}} *
                        </div>
                    </div>
                </li>
                <li>
                    <div class="row">
                        <div class="col-md-9 col-sm-9">
                            Shipping Weight ({{vm.tile.box.weight}} lbs Per Box x {{vm.order.boxesNeeded}} Boxes)=
                        </div>
                        <div class="col-md-3 col-sm-3 text-right">
                            {{vm.tile.box.weight * vm.order.boxesNeeded}}
                        </div>
                    </div>
                </li>
            </ul>
            <span class="text-footer">* Numbers are rounded to nearest tile or box<br/>** Minimum 100 square feet for custom tiles</span>
        </div>
    </div>
    <div class="row">
        <div class="col-md-12">
            <p>Similar Tile</p>
            <div class="row">
                <div class="col-md-3">
                    <img src="/static/img/initial/tiles/tiles/Kotka918-B-Granada-Tile-Cement.jpg" alt="" class="img-responsive">
                </div>
                <div class="col-md-3">
                    <img src="/static/img/initial/tiles/tiles/Kotka918-C-Granada-Tile-Cement.jpg" alt="" class="img-responsive">
                </div>
                <div class="col-md-3">
                    <img src="/static/img/initial/tiles/tiles/Kotka918-D-Granada-Tile-Cement.jpg" alt="" class="img-responsive">
                </div>
                <div class="col-md-3">
                    <img src="/static/img/initial/tiles/tiles/Kotka918-A-Granada-Tile-Cement.jpg" alt="" class="img-responsive">
                </div>
            </div>
        </div>
    </div>

</div>

      